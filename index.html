<!DOCTYPE html>
<html>
<head>
  <title>"Boom&What MAP"</title>
  <meta charset="utf-8" />
  <link rel="icon" type="image/png" href="BOOM&WHAT.png" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map {
      position: absolute;
      height: 100%;
      width: 100%;
      background-color: #0fa8d2; 
    }
    #mapSelector {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1000;
      padding: 5px;
    }
  </style>
</head>
<body>

<select id="mapSelector">
  <option value="map1">Atlas</option>
  <option value="map2">satellite</option>
</select>

<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>

  const imageWidth = 8192;
  const imageHeight = 8192;
  const imageBounds = [[0, 0], [imageHeight, imageWidth]];

  const map = L.map('map', {
    crs: L.CRS.Simple,
    minZoom: -4,
    maxZoom: 2
  });

  const maps = {
    map1: {
      layer: L.imageOverlay('map1.png', imageBounds),
      bgColor: "#0fa8d2"
    },
    map2: {
      layer: L.imageOverlay('map2.png', imageBounds),
      bgColor: "#143d6b" 
    }
  };

  let currentMap = maps.map1.layer.addTo(map);
  map.fitBounds(imageBounds);

  document.getElementById('mapSelector').addEventListener('change', (e) => {
    map.removeLayer(currentMap);

    const selected = maps[e.target.value];
    currentMap = selected.layer.addTo(map);

    document.getElementById('map').style.backgroundColor = selected.bgColor;
  });

  const offsetX = 6487;
  const offsetY = 9474;

  function gtaToLeaflet(gameX, gameY) {
    const leafletX = gameX + offsetX;
    const leafletY = -gameY + offsetY;
    return [leafletY, leafletX];
  }

  function leafletToGTA(leafletX, leafletY) {
    const gameX = leafletX - offsetX;
    const gameY = -(leafletY - offsetY);
    return [gameX, gameY];
  }

  function customIcon(iconName) {
    return L.icon({
      iconUrl: iconName + '.png',
      iconSize: [20, 20],
      iconAnchor: [16, 32],
      popupAnchor: [-10, -27]
    });
  }

  const gtaLocations = [
    { name: "แยก Inno", x: -2632 , y: 7729 , icon: "18" }, //innocence
    { name: "เส้นข้าง รพ.", x: -2550 , y: 7784 , icon: "18" },
    { name: "เส้นบูทแลนด์ส้มเก่า", x:-2718 , y: 7837 , icon: "18" },
    { name: "เส้นหลังแลนด์ส้มเก่า", x: -2577 , y: 7838 , icon: "18" },
    { name: "Pound หน่วยงาน", x: -2467 , y: 7889 , icon: "18" },
    { name: "เส้นรางรถไฟ Pound หน่วยงาน", x: -2565 , y: 8053 , icon: "18" },
    { name: "ดับเพลิง Davis", x: -2595 , y: 7897 , icon: "18" },
    { name: "เส้นบููท Mega Mall", x: -2698 , y: 7913 , icon: "18" },
    { name: "ซอย Jamestown", x: -2507 , y: 8094 , icon: "18" },
    { name: "ซอยขายยา Jamestown", x: -2345 , y: 8019 , icon: "18" },
    { name: "โรงไฟฟ้า Jamestown", x: -2367 , y: 7877 , icon: "18" },
    { name: "เส้นข้าง Pound หน่วยงาน", x: -2581 , y: 7878 , icon: "18" },
    { name: "สะพาน Pound หน่วยงาน", x: -2290 , y: 7954 , icon: "18" },
    { name: "สลัม Pound หน่วยงาน", x: -2577 , y: 7942 , icon: "18" },
    { name: "สลัม Jamestown", x: -2477 , y: 8018 , icon: "18" },
    { name: "โกดัง Jamestown", x: -2371 , y: 8083 , icon: "18" },
    { name: "สลัมวากอส", x: -2509 , y: 8156 , icon: "18" },
    { name: "โรงไฟฟ้า วากอส", x: -2485 , y: -8209 , icon: "18" },
    { name: "สามแยกเขียวชุม", x: -2488 , y: 8245 , icon: "18" },
    { name: "สะพานหลัง รพ.", x: -2298 , y: 7756 , icon: "18" },
    { name: "ตึกปูนข้าง รพ.", x: -2452 , y: 7688 , icon: "18" },
    { name: "ร้านรถมือ 2", x: -2746 , y: 7904 , icon: "18" },
    { name: "ซอยวากอส", x: -2540 , y: 8133 , icon: "18" },
    { name: "เส้น Dutch London", x: -2567 , y: 8183 , icon: "18" },
    { name: "บ้าน CJ", x: -2647 , y: 8097 , icon: "18" },
    { name: "ซอยบ้าน CJ", x: -2774 , y: 7991 , icon: "18" },
    { name: "ซอยข้าง Mega Mall", x: -2654 , y: 8019 , icon: "18" },
    { name: "บ้านพี่คม", x: -2455 , y: 7796 , icon: "18" },
    { name: "ซอย Forum", x: -2851 , y: 7890 , icon: "18" },
    { name: "ขายยา Forum", x: -2745 , y: 7771 , icon: "18" },
    { name: "โบสถ์ Forum", x: -2725 , y: 7801 , icon: "18" },
    { name: "ผับ Valila", x: -2655 , y: 7663 , icon: "18" },
    { name: "แยก Benny", x: -2795 , y: 7710 , icon: "18" },
    { name: "แยกบ้าน Rank", x: -2910 , y: 7753 , icon: "18" },
    { name: "บ้าน Rank", x: -2942 , y: 7691 , icon: "18" },
    { name: "โม่ปูนบ้าน Rank", x: -2819, y: 7577 , icon: "18" },
    { name: "สนามหญ้าบ้าน Rank", x: -3039, y: 7666 , icon: "24" },
    { name: "แยก BTS", x: -2998 , y: 7752 , icon: "18" },
    { name: "ลานเสก็ต", x: -2911 , y: 7870 , icon: "18" },
    { name: "สามแยกดัช", x: -2412 , y: 8167 , icon: "18" },
    { name: "สะพานดัช / สะพาน 4 แทงค์", x: -2306 , y: 8164 , icon: "18" },
    { name: "4 แทงค์", x: -2368 , y: 8239 , icon: "18" },
    { name: "โรงน้ำมันชุม", x: -2645 , y: 8228 , icon: "18" },
    { name: "โรงน้ำ้มันสเตเดี้ยม", x: -2802 , y: 8272 , icon: "18" },
    { name: "จกปูน Dutch", x: -2645, y: 8260, icon: "18" },
    { name: "ไลน์ Arsenal ", x: -2926, y: 8238 , icon: "18" },
    { name: "สเตเดี้ยม", x: -2942 , y: 8109 , icon: "18" },
    { name: "ลานจอดรถสเตเดี่ยม (ชั้นบน)", x: -2787 , y: 8133 , icon: "18" },
    { name: "ลานจอดรถสเตเดี่ยม (ชั้นล่าง)", x: -2796 , y: 8207 , icon: "18" },
    { name: "โรงเหล็ก", x: -3034 , y: 7939 , icon: "18" },
    { name: "สะพานเขียวชุม", x: -2498 , y: 8337 , icon: "18" },
    { name: "สะพานรางรถไฟชุม", x: -2587 , y: 8339 , icon: "18" },
    { name: "โรงกระดาษ", x: -2953 , y: 7822 , icon: "18" },
    { name: "ร้านโดนัท", x: -2619 , y: 7762 , icon: "18" },
    { name: "ร้านไก่ย่าง Bishop's", x: -2617 , y: 7890 , icon: "18" },
    { name: "ปลาหมึก", x: -3122 , y: 8111 , icon: "18" },
    { name: "โกดังข้างโรงเหล็ก", x: XX , y: 7980 , icon: "18" },
  ];

  gtaLocations.forEach(loc => {
    const [y, x] = gtaToLeaflet(loc.x, loc.y);
    L.marker([y, x], { icon: customIcon(loc.icon) })
      .addTo(map)
      .bindPopup(`${loc.name}<br>GTA (${loc.x}, ${loc.y})`);
  });

  map.on('click', function (e) {
    const lx = e.latlng.lng;
    const ly = e.latlng.lat;
    const [gx, gy] = leafletToGTA(lx, ly);
    L.popup()
      .setLatLng(e.latlng)
      .setContent(`Leaflet: (${lx.toFixed(0)}, ${ly.toFixed(0)})<br>GTA: (${gx.toFixed(0)}, ${gy.toFixed(0)})`)
      .openOn(map);
    console.log(`CLICK: Leaflet(${lx}, ${ly}) -> GTA(${gx}, ${gy})`);
  });

</script>

</body>
</html>



